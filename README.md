# درس: كتابة أول سكربت (Writing Your First Script) - الفصل 24

## 1) البداية الفورية (Hands-on)
اكتب سكربت بسيط يطبع رسالة:

```bash
#!/bin/bash
echo "Hello World"
```

احفظه باسم `hello.sh` ثم نفّذه:

```bash
chmod +x hello.sh
./hello.sh
```

## 2) لماذا الشيبانغ (Shebang) مهم جداً؟
السطر الأول `#!/bin/bash` يقول للنظام أي Interpreter يشغّل الملف. بدون هذا السطر:
- النظام قد يحاول تشغيل الملف ببرنامج خاطئ.
- السكربت قد يفشل إذا تم تشغيله من مكان آخر أو عبر أدوات أخرى.

**الخلاصة:** الشيبانغ يضمن أن السكربت يُفسَّر دائماً عبر **bash**.

## 3) صلاحيات الملفات (File Permissions) ولماذا chmod +x؟
عند إنشاء ملف جديد، غالباً لا يملك صلاحية التنفيذ. الأمر:

```bash
chmod +x hello.sh
```

يضيف صلاحية **execute** حتى يسمح لك بتشغيله كبرنامج. بدونها ستظهر رسالة مثل:
`Permission denied`.

## 4) لماذا ننظم السكربتات في ~/bin ؟ (Use Case)
تخيل أنك تكتب عدة سكربتات يومياً. إذا كانت موزعة في مجلدات عشوائية:
- ستضطر لكتابة المسار الكامل كل مرة.
- ستنسى أين وضعتها.

**الحل العملي:** اجمع سكربتاتك في مجلد واحد قياسي `~/bin`.
ثم أضِفه إلى PATH حتى تعمل السكربتات من أي مكان.

## 5) متغير البيئة PATH وكيف نضيف ~/bin
**PATH** هو قائمة مسارات يبحث فيها النظام عن الأوامر.

نفّذ:

```bash
mkdir -p ~/bin
echo 'export PATH="$HOME/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc
```

الآن أي سكربت تضعه في `~/bin` يمكن تشغيله مباشرة:

```bash
hello.sh
```

## 6) التشريح (Anatomy) — معنى الرموز
- `#!` : علامة **Shebang** لتحديد الـ Interpreter.
- `/bin/bash` : مسار برنامج **bash**.
- `chmod +x` : يضيف صلاحية التنفيذ.
- `./hello.sh` : `./` يعني “المجلد الحالي” لتشغيل الملف من هنا.
- `PATH` : قائمة مسارات البحث عن الأوامر.

## 7) Mini-Project (مهمة صغيرة)
مهمتك الآن: اكتب سكربت باسم `sysinfo` داخل `~/bin` يقوم بالتالي:

- يبدأ بسطر شيبانغ: `#!/bin/bash`
- يطبع ترحيباً بالمستخدم عبر المتغير `USER` (مثال: `Hello $USER`).
- يطبع تاريخ اليوم باستخدام الأمر `date`.
- اجعل الملف قابلاً للتنفيذ بـ `chmod +x`.
- جرّب تشغيله من أي مكان بكتابة الأمر `sysinfo` فقط.

**هدفك:** تتأكد أن الشيبانغ + الصلاحيات + PATH تعمل معاً بشكل صحيح.
